# User

## Abstract:
Users are the data that can be freely sent to other users.

### File System
Users are stored in the directory -    
`~/accounts/accountID/users/userID/`

Each folder in the directory represents a new user.

The contents of the folder are:  
`~/accounts/accountID/users/userID/profile.json` - profile data for the user  
`~/accounts/accountID/users/userID/keys.json` - master and disposable key data for the user  
`~/accounts/accountID/users/userID/archive.json` - profile photo for the user  
`~/accounts/accountID/users/userID/photo.png` - profile photo for the user  

### profile.json
```javascript
{
	"data": {
		"username": "username",
		"bio": "This is where the bio of the user would go",
		"photo": "----fingerprint----",
		"following": [
			"fingerprint": "----fingerprint----"
		],
		"friends": [
			"fingerprint": "----fingerprint----"
		],
		"blocked": [
			"fingerprint": "----fingerprint----"
		],
		"timestamp": 1570809434377
	},
	"signer": "----Signing Algorithm----",
	"signature": "----Signature----"
}
```
##### Data:
Data contains the actual profile information and a timestamp of when it was created.
##### Signature
Signature is a signature generated by the disposable key on the profile data.

### keys.json
```javascript
{
  master: {
		factory: "----Asymmetric Key Factory----",
		public: "----Public Key----"
  },
  disposable: {
		factory: "----Asymmetric Key Factory----",
		public: "----Public Key----",

		timestamp: 1570809434377,

		signer: "----Signing Algorithm----",
		signature: "----Signature----"
  }
}
```
##### Master
Master is a key pair as defined in [account](./account.md)
##### Disposable
Disposable is a key pair as defined in [account](./account.md)

### archive.json
```javascript
[
	{
		"fingerprint": "----fingerprint----",

		"cipher": "----Symmetric Cipher Algorithm----",
		"lock": "----Asymmetric Encryption Algorithm----",
		"key": "----Symmetric Key Asymmetric Cipher Text----",
		"private": "---Private Key Symmetric Cipher Text----",

		"timestamp": 1570809834377,

		"signer": "----Signing Algorithm----",
		"signature": "----Signature----"
	},
	...
]
```
##### Archive
The account archive is a list of old disposable keys for the account. The private key will be encrypt with a symmetric key and that key will be encrypted with the master key. The public key will be stored as a hash. Each key in the archive in include a timestamp of when it was archived and a signature from the master key.
